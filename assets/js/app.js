// Generated by CoffeeScript 1.7.1
$(function() {
  $('h1:contains("&"),h2:contains("&"),h3:contains("&"),h4:contains("&"),h5:contains("&"),h6:contains("&"),.lead:contains("&"),.content > p:first-child:contains("&")').each(function() {
    return $(this).html($(this).html().replace(/&amp;/, "<abbr class='amp'>&amp;</abbr>"));
  });
  $('.content > p > img, .content > p > iframe, .content > p > input').each(function() {
    return $(this).unwrap('p');
  });
  $('.content > iframe').each(function() {
    var isMap, map, source;
    source = $(this).attr('src');
    map = /maps.google/;
    isMap = map.test(source);
    if (isMap) {
      return $(this).wrap('<figure class="map"></figure>');
    } else {
      return $(this).wrap('<figure class="video"></figure>');
    }
  });
  $('.content > img, .content > p > img').wrap('<figure></figure>');
  $('.video').fitVids();
  $(document).on('click', '.js-reveal', function(e) {
    var target;
    target = $(this).attr('href');
    $(target).toggleClass('opened');
    return e.preventDefault();
  });
  $('.js-show-pw').click(function(e) {
    var type;
    type = $(this).parents('.field').find('input');
    if ($(type).attr('type') === 'text') {
      $(type).get(0).type = 'password';
      $(this).text('Show password');
    } else {
      $(type).get(0).type = 'text';
      $(this).text('Hide password');
    }
    return e.preventDefault();
  });
  return $('.js-options input').change(function() {
    var check, type;
    type = $(this).attr('type');
    check = $(this).parent('label');
    if (type === 'checkbox') {
      return check.toggleClass('checked');
    } else if (type === 'radio') {
      check.siblings('label').removeClass('checked');
      return check.addClass('checked');
    }
  });
});
