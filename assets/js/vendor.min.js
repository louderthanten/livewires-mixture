/*!
* FitVids 1.0.3
*
* Copyright 2013, Chris Coyier - http://css-tricks.com + Dave Rupert - http://daverupert.com
* Credit to Thierry Koblentz - http://www.alistapart.com/articles/creating-intrinsic-ratios-for-video/
* Released under the WTFPL license - http://sam.zoy.org/wtfpl/
*
* Date: Thu Sept 01 18:00:00 2011 -0500
*/
function Swipe(e,t){"use strict";function n(){p=b.children,w=p.length,p.length<2&&(t.continuous=!1),h.transitions&&t.continuous&&p.length<3&&(b.appendChild(p[0].cloneNode(!0)),b.appendChild(b.children[1].cloneNode(!0)),p=b.children),m=new Array(p.length),v=e.getBoundingClientRect().width||e.offsetWidth,b.style.width=p.length*v+"px";for(var n=p.length;n--;){var i=p[n];i.style.width=v+"px",i.setAttribute("data-index",n),h.transitions&&(i.style.left=n*-v+"px",o(n,y>n?-v:n>y?v:0,0))}t.continuous&&h.transitions&&(o(r(y-1),-v,0),o(r(y+1),v,0)),h.transitions||(b.style.left=y*-v+"px"),e.style.visibility="visible"}function i(){t.continuous?s(y-1):y&&s(y-1)}function a(){t.continuous?s(y+1):y<p.length-1&&s(y+1)}function r(e){return(p.length+e%p.length)%p.length}function s(e,n){if(y!=e){if(h.transitions){var i=Math.abs(y-e)/(y-e);if(t.continuous){var a=i;i=-m[r(e)]/v,i!==a&&(e=-i*p.length+e)}for(var s=Math.abs(y-e)-1;s--;)o(r((e>y?e:y)-s-1),v*i,0);e=r(e),o(y,v*i,n||k),o(e,0,n||k),t.continuous&&o(r(e-i),-(v*i),0)}else e=r(e),c(y*-v,e*-v,n||k);y=e,f(t.callback&&t.callback(y,p[y]))}}function o(e,t,n){l(e,t,n),m[e]=t}function l(e,t,n){var i=p[e],a=i&&i.style;a&&(a.webkitTransitionDuration=a.MozTransitionDuration=a.msTransitionDuration=a.OTransitionDuration=a.transitionDuration=n+"ms",a.webkitTransform="translate("+t+"px,0)translateZ(0)",a.msTransform=a.MozTransform=a.OTransform="translateX("+t+"px)")}function c(e,n,i){if(!i)return b.style.left=n+"px",void 0;var a=+new Date,r=setInterval(function(){var s=+new Date-a;return s>i?(b.style.left=n+"px",T&&u(),t.transitionEnd&&t.transitionEnd.call(event,y,p[y]),clearInterval(r),void 0):(b.style.left=(n-e)*(Math.floor(s/i*100)/100)+e+"px",void 0)},4)}function u(){E=setTimeout(a,T)}function d(){T=0,clearTimeout(E)}var g=function(){},f=function(e){setTimeout(e||g,0)},h={addEventListener:!!window.addEventListener,touch:"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch,transitions:function(e){var t=["transitionProperty","WebkitTransition","MozTransition","OTransition","msTransition"];for(var n in t)if(void 0!==e.style[t[n]])return!0;return!1}(document.createElement("swipe"))};if(e){var p,m,v,w,b=e.children[0];t=t||{};var y=parseInt(t.startSlide,10)||0,k=t.speed||300;t.continuous=void 0!==t.continuous?t.continuous:!0;var E,x,T=t.auto||0,N={},P={},L={handleEvent:function(e){switch(e.type){case"touchstart":this.start(e);break;case"touchmove":this.move(e);break;case"touchend":f(this.end(e));break;case"webkitTransitionEnd":case"msTransitionEnd":case"oTransitionEnd":case"otransitionend":case"transitionend":f(this.transitionEnd(e));break;case"resize":f(n)}t.stopPropagation&&e.stopPropagation()},start:function(e){var t=e.touches[0];N={x:t.pageX,y:t.pageY,time:+new Date},x=void 0,P={},b.addEventListener("touchmove",this,!1),b.addEventListener("touchend",this,!1)},move:function(e){if(!(e.touches.length>1||e.scale&&1!==e.scale)){t.disableScroll&&e.preventDefault();var n=e.touches[0];P={x:n.pageX-N.x,y:n.pageY-N.y},"undefined"==typeof x&&(x=!!(x||Math.abs(P.x)<Math.abs(P.y))),x||(e.preventDefault(),d(),t.continuous?(l(r(y-1),P.x+m[r(y-1)],0),l(y,P.x+m[y],0),l(r(y+1),P.x+m[r(y+1)],0)):(P.x=P.x/(!y&&P.x>0||y==p.length-1&&P.x<0?Math.abs(P.x)/v+1:1),l(y-1,P.x+m[y-1],0),l(y,P.x+m[y],0),l(y+1,P.x+m[y+1],0)))}},end:function(){var e=+new Date-N.time,n=Number(e)<250&&Math.abs(P.x)>20||Math.abs(P.x)>v/2,i=!y&&P.x>0||y==p.length-1&&P.x<0;t.continuous&&(i=!1);var a=P.x<0;x||(n&&!i?(a?(t.continuous?(o(r(y-1),-v,0),o(r(y+2),v,0)):o(y-1,-v,0),o(y,m[y]-v,k),o(r(y+1),m[r(y+1)]-v,k),y=r(y+1)):(t.continuous?(o(r(y+1),v,0),o(r(y-2),-v,0)):o(y+1,v,0),o(y,m[y]+v,k),o(r(y-1),m[r(y-1)]+v,k),y=r(y-1)),t.callback&&t.callback(y,p[y])):t.continuous?(o(r(y-1),-v,k),o(y,0,k),o(r(y+1),v,k)):(o(y-1,-v,k),o(y,0,k),o(y+1,v,k))),b.removeEventListener("touchmove",L,!1),b.removeEventListener("touchend",L,!1)},transitionEnd:function(e){parseInt(e.target.getAttribute("data-index"),10)==y&&(T&&u(),t.transitionEnd&&t.transitionEnd.call(e,y,p[y]))}};return n(),T&&u(),h.addEventListener?(h.touch&&b.addEventListener("touchstart",L,!1),h.transitions&&(b.addEventListener("webkitTransitionEnd",L,!1),b.addEventListener("msTransitionEnd",L,!1),b.addEventListener("oTransitionEnd",L,!1),b.addEventListener("otransitionend",L,!1),b.addEventListener("transitionend",L,!1)),window.addEventListener("resize",L,!1)):window.onresize=function(){n()},{setup:function(){n()},slide:function(e,t){d(),s(e,t)},prev:function(){d(),i()},next:function(){d(),a()},stop:function(){d()},getPos:function(){return y},getNumSlides:function(){return w},kill:function(){d(),b.style.width="",b.style.left="";for(var e=p.length;e--;){var t=p[e];t.style.width="",t.style.left="",h.transitions&&l(e,0,0)}h.addEventListener?(b.removeEventListener("touchstart",L,!1),b.removeEventListener("webkitTransitionEnd",L,!1),b.removeEventListener("msTransitionEnd",L,!1),b.removeEventListener("oTransitionEnd",L,!1),b.removeEventListener("otransitionend",L,!1),b.removeEventListener("transitionend",L,!1),window.removeEventListener("resize",L,!1)):window.onresize=null}}}}!function(e){"use strict";e.fn.fitVids=function(t){var n={customSelector:null};if(!document.getElementById("fit-vids-style")){var i=document.createElement("div"),a=document.getElementsByTagName("base")[0]||document.getElementsByTagName("script")[0],r="&shy;<style>.fluid-width-video-wrapper{width:100%;position:relative;padding:0;}.fluid-width-video-wrapper iframe,.fluid-width-video-wrapper object,.fluid-width-video-wrapper embed {position:absolute;top:0;left:0;width:100%;height:100%;}</style>";i.className="fit-vids-style",i.id="fit-vids-style",i.style.display="none",i.innerHTML=r,a.parentNode.insertBefore(i,a)}return t&&e.extend(n,t),this.each(function(){var t=["iframe[src*='player.vimeo.com']","iframe[src*='youtube.com']","iframe[src*='youtube-nocookie.com']","iframe[src*='kickstarter.com'][src*='video.html']","object","embed"];n.customSelector&&t.push(n.customSelector);var i=e(this).find(t.join(","));i=i.not("object object"),i.each(function(){var t=e(this);if(!("embed"===this.tagName.toLowerCase()&&t.parent("object").length||t.parent(".fluid-width-video-wrapper").length)){var n="object"===this.tagName.toLowerCase()||t.attr("height")&&!isNaN(parseInt(t.attr("height"),10))?parseInt(t.attr("height"),10):t.height(),i=isNaN(parseInt(t.attr("width"),10))?t.width():parseInt(t.attr("width"),10),a=n/i;if(!t.attr("id")){var r="fitvid"+Math.floor(999999*Math.random());t.attr("id",r)}t.wrap('<div class="fluid-width-video-wrapper"></div>').parent(".fluid-width-video-wrapper").css("padding-top",100*a+"%"),t.removeAttr("height").removeAttr("width")}})})}}(window.jQuery||window.Zepto),function(){var e=/\blang(?:uage)?-(?!\*)(\w+)\b/i,t=self.Prism={util:{type:function(e){return Object.prototype.toString.call(e).match(/\[object (\w+)\]/)[1]},clone:function(e){var n=t.util.type(e);switch(n){case"Object":var i={};for(var a in e)e.hasOwnProperty(a)&&(i[a]=t.util.clone(e[a]));return i;case"Array":return e.slice()}return e}},languages:{extend:function(e,n){var i=t.util.clone(t.languages[e]);for(var a in n)i[a]=n[a];return i},insertBefore:function(e,n,i,a){a=a||t.languages;var r=a[e],s={};for(var o in r)if(r.hasOwnProperty(o)){if(o==n)for(var l in i)i.hasOwnProperty(l)&&(s[l]=i[l]);s[o]=r[o]}return a[e]=s},DFS:function(e,n){for(var i in e)n.call(e,i,e[i]),"Object"===t.util.type(e)&&t.languages.DFS(e[i],n)}},highlightAll:function(e,n){for(var i,a=document.querySelectorAll('code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'),r=0;i=a[r++];)t.highlightElement(i,e===!0,n)},highlightElement:function(i,a,r){for(var s,o,l=i;l&&!e.test(l.className);)l=l.parentNode;if(l&&(s=(l.className.match(e)||[,""])[1],o=t.languages[s]),o){i.className=i.className.replace(e,"").replace(/\s+/g," ")+" language-"+s,l=i.parentNode,/pre/i.test(l.nodeName)&&(l.className=l.className.replace(e,"").replace(/\s+/g," ")+" language-"+s);var c=i.textContent;if(c){c=c.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ");var u={element:i,language:s,grammar:o,code:c};if(t.hooks.run("before-highlight",u),a&&self.Worker){var d=new Worker(t.filename);d.onmessage=function(e){u.highlightedCode=n.stringify(JSON.parse(e.data),s),t.hooks.run("before-insert",u),u.element.innerHTML=u.highlightedCode,r&&r.call(u.element),t.hooks.run("after-highlight",u)},d.postMessage(JSON.stringify({language:u.language,code:u.code}))}else u.highlightedCode=t.highlight(u.code,u.grammar,u.language),t.hooks.run("before-insert",u),u.element.innerHTML=u.highlightedCode,r&&r.call(i),t.hooks.run("after-highlight",u)}}},highlight:function(e,i,a){return n.stringify(t.tokenize(e,i),a)},tokenize:function(e,n){var i=t.Token,a=[e],r=n.rest;if(r){for(var s in r)n[s]=r[s];delete n.rest}e:for(var s in n)if(n.hasOwnProperty(s)&&n[s]){var o=n[s],l=o.inside,c=!!o.lookbehind,u=0;o=o.pattern||o;for(var d=0;d<a.length;d++){var g=a[d];if(a.length>e.length)break e;if(!(g instanceof i)){o.lastIndex=0;var f=o.exec(g);if(f){c&&(u=f[1].length);var h=f.index-1+u,f=f[0].slice(u),p=f.length,m=h+p,v=g.slice(0,h+1),w=g.slice(m+1),b=[d,1];v&&b.push(v);var y=new i(s,l?t.tokenize(f,l):f);b.push(y),w&&b.push(w),Array.prototype.splice.apply(a,b)}}}}return a},hooks:{all:{},add:function(e,n){var i=t.hooks.all;i[e]=i[e]||[],i[e].push(n)},run:function(e,n){var i=t.hooks.all[e];if(i&&i.length)for(var a,r=0;a=i[r++];)a(n)}}},n=t.Token=function(e,t){this.type=e,this.content=t};if(n.stringify=function(e,i,a){if("string"==typeof e)return e;if("[object Array]"==Object.prototype.toString.call(e))return e.map(function(t){return n.stringify(t,i,e)}).join("");var r={type:e.type,content:n.stringify(e.content,i,a),tag:"span",classes:["token",e.type],attributes:{},language:i,parent:a};"comment"==r.type&&(r.attributes.spellcheck="true"),t.hooks.run("wrap",r);var s="";for(var o in r.attributes)s+=o+'="'+(r.attributes[o]||"")+'"';return"<"+r.tag+' class="'+r.classes.join(" ")+'" '+s+">"+r.content+"</"+r.tag+">"},!self.document)return self.addEventListener("message",function(e){var n=JSON.parse(e.data),i=n.language,a=n.code;self.postMessage(JSON.stringify(t.tokenize(a,t.languages[i]))),self.close()},!1),void 0;var i=document.getElementsByTagName("script");i=i[i.length-1],i&&(t.filename=i.src,document.addEventListener&&!i.hasAttribute("data-manual")&&document.addEventListener("DOMContentLoaded",t.highlightAll))}(),Prism.languages.markup={comment:/&lt;!--[\w\W]*?-->/g,prolog:/&lt;\?.+?\?>/,doctype:/&lt;!DOCTYPE.+?>/,cdata:/&lt;!\[CDATA\[[\w\W]*?]]>/i,tag:{pattern:/&lt;\/?[\w:-]+\s*(?:\s+[\w:-]+(?:=(?:("|')(\\?[\w\W])*?\1|\w+))?\s*)*\/?>/gi,inside:{tag:{pattern:/^&lt;\/?[\w:-]+/i,inside:{punctuation:/^&lt;\/?/,namespace:/^[\w-]+?:/}},"attr-value":{pattern:/=(?:('|")[\w\W]*?(\1)|[^\s>]+)/gi,inside:{punctuation:/=|>|"/g}},punctuation:/\/?>/g,"attr-name":{pattern:/[\w:-]+/g,inside:{namespace:/^[\w-]+?:/}}}},entity:/&amp;#?[\da-z]{1,8};/gi},Prism.hooks.add("wrap",function(e){"entity"===e.type&&(e.attributes.title=e.content.replace(/&amp;/,"&"))}),Prism.languages.css={comment:/\/\*[\w\W]*?\*\//g,atrule:{pattern:/@[\w-]+?.*?(;|(?=\s*{))/gi,inside:{punctuation:/[;:]/g}},url:/url\((["']?).*?\1\)/gi,selector:/[^\{\}\s][^\{\};]*(?=\s*\{)/g,property:/(\b|\B)[\w-]+(?=\s*:)/gi,string:/("|')(\\?.)*?\1/g,important:/\B!important\b/gi,ignore:/&(lt|gt|amp);/gi,punctuation:/[\{\};:]/g},Prism.languages.markup&&Prism.languages.insertBefore("markup","tag",{style:{pattern:/(&lt;|<)style[\w\W]*?(>|&gt;)[\w\W]*?(&lt;|<)\/style(>|&gt;)/gi,inside:{tag:{pattern:/(&lt;|<)style[\w\W]*?(>|&gt;)|(&lt;|<)\/style(>|&gt;)/gi,inside:Prism.languages.markup.tag.inside},rest:Prism.languages.css}}}),Prism.languages.clike={comment:{pattern:/(^|[^\\])(\/\*[\w\W]*?\*\/|(^|[^:])\/\/.*?(\r?\n|$))/g,lookbehind:!0},string:/("|')(\\?.)*?\1/g,"class-name":{pattern:/((?:(?:class|interface|extends|implements|trait|instanceof|new)\s+)|(?:catch\s+\())[a-z0-9_\.\\]+/gi,lookbehind:!0,inside:{punctuation:/(\.|\\)/}},keyword:/\b(if|else|while|do|for|return|in|instanceof|function|new|try|throw|catch|finally|null|break|continue)\b/g,"boolean":/\b(true|false)\b/g,"function":{pattern:/[a-z0-9_]+\(/gi,inside:{punctuation:/\(/}},number:/\b-?(0x[\dA-Fa-f]+|\d*\.?\d+([Ee]-?\d+)?)\b/g,operator:/[-+]{1,2}|!|&lt;=?|>=?|={1,3}|(&amp;){1,2}|\|?\||\?|\*|\/|\~|\^|\%/g,ignore:/&(lt|gt|amp);/gi,punctuation:/[{}[\];(),.:]/g},Prism.languages.javascript=Prism.languages.extend("clike",{keyword:/\b(var|let|if|else|while|do|for|return|in|instanceof|function|new|with|typeof|try|throw|catch|finally|null|break|continue)\b/g,number:/\b-?(0x[\dA-Fa-f]+|\d*\.?\d+([Ee]-?\d+)?|NaN|-?Infinity)\b/g}),Prism.languages.insertBefore("javascript","keyword",{regex:{pattern:/(^|[^/])\/(?!\/)(\[.+?]|\\.|[^/\r\n])+\/[gim]{0,3}(?=\s*($|[\r\n,.;})]))/g,lookbehind:!0}}),Prism.languages.markup&&Prism.languages.insertBefore("markup","tag",{script:{pattern:/(&lt;|<)script[\w\W]*?(>|&gt;)[\w\W]*?(&lt;|<)\/script(>|&gt;)/gi,inside:{tag:{pattern:/(&lt;|<)script[\w\W]*?(>|&gt;)|(&lt;|<)\/script(>|&gt;)/gi,inside:Prism.languages.markup.tag.inside},rest:Prism.languages.javascript}}}),Prism.languages.coffeescript=Prism.languages.extend("javascript",{"block-comment":/([#]{3}\s*\r?\n(.*\s*\r*\n*)\s*?\r?\n[#]{3})/g,comment:/(\s|^)([#]{1}[^#^\r^\n]{2,}?(\r?\n|$))/g,keyword:/\b(this|window|delete|class|extends|namespace|extend|ar|let|if|else|while|do|for|each|of|return|in|instanceof|new|with|typeof|try|catch|finally|null|undefined|break|continue)\b/g}),Prism.languages.insertBefore("coffeescript","keyword",{"function":{pattern:/[a-z|A-z]+\s*[:|=]\s*(\([.|a-z\s|,|:|{|}|\"|\'|=]*\))?\s*-&gt;/gi,inside:{"function-name":/[_?a-z-|A-Z-]+(\s*[:|=])| @[_?$?a-z-|A-Z-]+(\s*)| /g,operator:/[-+]{1,2}|!|=?&lt;|=?&gt;|={1,2}|(&amp;){1,2}|\|?\||\?|\*|\//g}},"attr-name":/[_?a-z-|A-Z-]+(\s*:)| @[_?$?a-z-|A-Z-]+(\s*)| /g}),Prism.languages.scss=Prism.languages.extend("css",{comment:{pattern:/(^|[^\\])(\/\*[\w\W]*?\*\/|\/\/.*?(\r?\n|$))/g,lookbehind:!0},atrule:/@[\w-]+(?=\s+(\(|\{|;))/gi,url:/([-a-z]+-)*url(?=\()/gi,selector:/([^@;\{\}\(\)]?([^@;\{\}\(\)]|&amp;|\#\{\$[-_\w]+\})+)(?=\s*\{(\}|\s|[^\}]+(:|\{)[^\}]+))/gm}),Prism.languages.insertBefore("scss","atrule",{keyword:/@(if|else if|else|for|each|while|import|extend|debug|warn|mixin|include|function|return)|(?=@for\s+\$[-_\w]+\s)+from/i}),Prism.languages.insertBefore("scss","property",{variable:/((\$[-_\w]+)|(#\{\$[-_\w]+\}))/i}),Prism.languages.insertBefore("scss","ignore",{placeholder:/%[-_\w]+/i,statement:/\B!(default|optional)\b/gi,"boolean":/\b(true|false)\b/g,"null":/\b(null)\b/g,operator:/\s+([-+]{1,2}|={1,2}|!=|\|?\||\?|\*|\/|\%)\s+/g}),Prism.hooks.add("after-highlight",function(e){var t=e.element.parentNode;if(t&&/pre/i.test(t.nodeName)&&-1!==t.className.indexOf("line-numbers")){var n,i=1+e.code.split("\n").length;lines=new Array(i),lines=lines.join("<span></span>"),n=document.createElement("span"),n.className="line-numbers-rows",n.innerHTML=lines,t.hasAttribute("data-start")&&(t.style.counterReset="linenumber "+(parseInt(t.getAttribute("data-start"),10)-1)),e.element.appendChild(n)}}),(window.jQuery||window.Zepto)&&!function(e){e.fn.Swipe=function(t){return this.each(function(){e(this).data("Swipe",new Swipe(e(this)[0],t))})}}(window.jQuery||window.Zepto);